"use strict";(self.webpackChunkchess297_website=self.webpackChunkchess297_website||[]).push([[151],{7698:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"server/nestjs/note","title":"NestJS \u4e2d\u4f7f\u7528\u914d\u7f6e","description":"\u9879\u76ee\u521d\u59cb\u5316","source":"@site/docs/server/nestjs/note.md","sourceDirName":"server/nestjs","slug":"/server/nestjs/note","permalink":"/website/docs/server/nestjs/note","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"NestJS \u4e2d\u4f7f\u7528\u914d\u7f6e"},"sidebar":"serverSidebar","previous":{"title":"l1","permalink":"/website/docs/server/golang/go-zero/l1"},"next":{"title":"NestJS + Prisma ORM","permalink":"/website/docs/server/nestjs/prisma"}}');var r=s(6070),l=s(8861);const i={title:"NestJS \u4e2d\u4f7f\u7528\u914d\u7f6e"},o=void 0,a={},d=[{value:"\u9879\u76ee\u521d\u59cb\u5316",id:"\u9879\u76ee\u521d\u59cb\u5316",level:2},{value:"\u9879\u76ee\u7ed3\u6784",id:"\u9879\u76ee\u7ed3\u6784",level:2},{value:"\u914d\u7f6e\u6587\u4ef6",id:"\u914d\u7f6e\u6587\u4ef6",level:2},{value:"js-yaml \u914d\u7f6e\u52a0\u8f7d",id:"js-yaml-\u914d\u7f6e\u52a0\u8f7d",level:3},{value:"joi \u914d\u7f6e\u6821\u9a8c",id:"joi-\u914d\u7f6e\u6821\u9a8c",level:3},{value:"\u4e3a\u4ec0\u4e48\u4e0d\u662f dotenv\uff1f",id:"\u4e3a\u4ec0\u4e48\u4e0d\u662f-dotenv",level:3},{value:"DTO \u6570\u636e\u6821\u9a8c",id:"dto-\u6570\u636e\u6821\u9a8c",level:2},{value:"class-validator",id:"class-validator",level:3},{value:"\u6570\u636e\u64cd\u4f5c",id:"\u6570\u636e\u64cd\u4f5c",level:2},{value:"Prisma",id:"prisma",level:3},{value:"\u4e3a\u4ec0\u4e48\u4e0d\u662f TypeORM\uff1f",id:"\u4e3a\u4ec0\u4e48\u4e0d\u662f-typeorm",level:4},{value:"Redis",id:"redis",level:4}];function c(e){const n={code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"\u9879\u76ee\u521d\u59cb\u5316",children:"\u9879\u76ee\u521d\u59cb\u5316"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"nest new project-name\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u9879\u76ee\u7ed3\u6784",children:"\u9879\u76ee\u7ed3\u6784"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"\u251c\u2500\u2500 src\n\u2502   \u251c\u2500\u2500 auth\n\u2502   \u2502   \u251c\u2500\u2500 auth.controller.ts\n\u2502   \u2502   \u251c\u2500\u2500 auth.module.ts\n\u2502   \u2502   \u251c\u2500\u2500 auth.service.ts\n\u2502   \u2502   \u2514\u2500\u2500 dto\n\u2502   \u2502       \u251c\u2500\u2500 login.dto.ts\n\u2502   \u2502       \u2514\u2500\u2500 register.dto.ts\n\u2502   \u251c\u2500\u2500 common\n\u2502   \u2502   \u251c\u2500\u2500 config\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 config.module.ts\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 config.service.ts\n\u2502   \u2502   \u251c\u2500\u2500 decorators\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 current-user.decorator.ts\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 public.decorator.ts\n\u2502   \u2502   \u251c\u2500\u2500 enums\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 role.enum.ts\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 status.enum.ts\n\u2502   \u2502   \u251c\u2500\u2500 exceptions\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 http-exception.filter.ts\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 http-exception.ts\n\u2502   \u2502   \u251c\u2500\u2500 guards\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 auth.guard.ts\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 roles.guard.ts\n\u2502   \u2502   \u251c\u2500\u2500 interceptors\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 log.interceptor.ts\n\u2502   \u2502   \u251c\u2500\u2500 pipes\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 validation.pipe.ts\n\u2502   \u2502   \u2514\u2500\u2500 utils\n\u2502   \u2502       \u251c\u2500\u2500 bcrypt.util.ts\n\u2502   \u2502       \u251c\u2500\u2500 jwt.util.ts\n\u2502   \u2502       \u2514\u2500\u2500 response.util.ts\n\u2502   \u251c\u2500\u2500 database\n\u2502   \u2502   \u251c\u2500\u2500 database.module.ts\n\u2502   \u2502   \u2514\u2500\u2500 database.service.ts\n\u2502   \u251c\u2500\u2500 modules\n\u2502   \u2502   \u251c\u2500\u2500 user\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 user.controller.ts\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 user.module.ts\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 user.service.ts\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 dto\n\u2502   \u2502   \u2502       \u2514\u2500\u2500 user.dto.ts\n\u2502   \u2502   \u2514\u2500\u2500 role\n\u2502   \u2502       \u251c\u2500\u2500 role.controller.ts\n\u2502   \u2502       \u251c\u2500\u2500 role.module.ts\n\u2502   \u2502       \u251c\u2500\u2500 role.service.ts\n\u2502   \u2502       \u2514\u2500\u2500 dto\n\u2502   \u2502           \u2514\u2500\u2500 role.dto.ts\n\u2502   \u251c\u2500\u2500 main.ts\n\u2502   \u2514\u2500\u2500 app.module.ts\n\u251c\u2500\u2500 test\n\u2502   \u2514\u2500\u2500 app.e2e-spec.ts\n\u251c\u2500\u2500 .env\n\u251c\u2500\u2500 .eslintrc.js\n\u251c\u2500\u2500 .gitignore\n\u251c\u2500\u2500 nest-cli.json\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 tsconfig.build.json\n\u251c\u2500\u2500 tsconfig.json\n\u2514\u2500\u2500 yarn.lock\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u914d\u7f6e\u6587\u4ef6",children:"\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,r.jsx)(n.h3,{id:"js-yaml-\u914d\u7f6e\u52a0\u8f7d",children:"js-yaml \u914d\u7f6e\u52a0\u8f7d"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm install js-yaml\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"#config.yaml\ndatabase:\n  host: localhost\n  port: 3306\n  username: root\n  password: password\n  database: nestjs\njwt:\n  secret: secret\n  expiresIn: 7d\n"})}),"\n",(0,r.jsx)(n.h3,{id:"joi-\u914d\u7f6e\u6821\u9a8c",children:"joi \u914d\u7f6e\u6821\u9a8c"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm install joi\n"})}),"\n",(0,r.jsx)(n.h3,{id:"\u4e3a\u4ec0\u4e48\u4e0d\u662f-dotenv",children:"\u4e3a\u4ec0\u4e48\u4e0d\u662f dotenv\uff1f"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"dotenv \u53ea\u80fd\u8bfb\u53d6 .env \u6587\u4ef6\uff0c\u4e0d\u80fd\u8bfb\u53d6 .env.local \u6587\u4ef6\uff0c\u6240\u4ee5\u9700\u8981\u4f7f\u7528 js-yaml \u6765\u8bfb\u53d6\u914d\u7f6e\u6587\u4ef6\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"dto-\u6570\u636e\u6821\u9a8c",children:"DTO \u6570\u636e\u6821\u9a8c"}),"\n",(0,r.jsx)(n.h3,{id:"class-validator",children:"class-validator"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm install class-validator class-transformer\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u6570\u636e\u64cd\u4f5c",children:"\u6570\u636e\u64cd\u4f5c"}),"\n",(0,r.jsx)(n.h3,{id:"prisma",children:"Prisma"}),"\n",(0,r.jsx)(n.h4,{id:"\u4e3a\u4ec0\u4e48\u4e0d\u662f-typeorm",children:"\u4e3a\u4ec0\u4e48\u4e0d\u662f TypeORM\uff1f"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"synchronize \u5f53 synchronize \u8bbe\u7f6e\u4e3a true \u65f6\uff0c\u4f1a\u540c\u6b65\u6570\u636e\u5e93\uff0c\u6709\u53ef\u80fd\u4f1a\u5220\u9664\u6570\u636e\uff0c\u6240\u4ee5\u5c3d\u91cf\u4e0d\u8981\u4f7f\u7528\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"redis",children:"Redis"})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8861:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>o});var t=s(758);const r={},l=t.createContext(r);function i(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);